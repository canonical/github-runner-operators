name: webhook-gateway
base: bare
build-base: ubuntu@24.04
version: '0.1'
summary: Receive and forward GitHub webhooks to a MQ
description: |
  This application provides a WebService that receives GitHub webhooks and forwards
  them to an AMQP-0.9-1 compatible message broker.
platforms:
  amd64:

# to ensure the go-framework extension functions properly, your Go project
# should have a go.mod file. Check the parts section for the selection of
# the default binary.
# see https://documentation.ubuntu.com/rockcraft/en/latest/reference/extensions/go-framework
# for more information.
# +-- webhook_gateway
# |   |-- go.mod
# |   |-- migrate.sh

extensions:
    - go-framework

# uncomment the sections you need and adjust according to your requirements.
# parts:

#   go-framework/install-app:
#    # select a specific Go version. Otherwise the current stable one will be used.
#    build-snaps:
#    - go/1.22/stable
#    organize:
#    # if the main package is in the base directory and the rockcraft name
#    # attribute is equal to the go module name, the name of the server will
#    # be selected correctly, otherwise you can adjust it.
#    # the file in /usr/local/bin/ with the name of the rockcraft project will be
#    # the binary to run your server.
#    # you can also include here other binary files to be included in the rock.
#      bin/otherbinary: usr/local/bin/projectname

#   go-framework/assets:
#     stage:
#       # by default, only the files migrate, migrate.sh, templates/ and static/
#       # are copied into the image. You can modify the list below to override
#       # the default list and include or exclude specific files/directories
#       # in your project.
#       # note: Prefix each entry with "app/" followed by the local path.
#       - app/templates
#       - app/static
#       - app/otherdirectory
#       - app/otherfile

